<div class="publisher-container">
  <h1>Publisher (C1)</h1>
  <p>Шаг 1: Получите Offer с сервера (от Subscriber).</p>
  <p>Шаг 2: Обработайте Offer (Answer автоматически сохранится на сервере).</p>

  <button (click)="fetchOffer()">Fetch Offer from Server</button>

  <label>Camera Source</label>
  <select [(ngModel)]="selectedPreset" (change)="onPresetChange()">
    <option *ngFor="let camera of availableCameras; let i = index" [value]="i">
      {{ camera.name }}
    </option>
  </select>

  <label>Stream Path</label>
  <input [(ngModel)]="streamPath" placeholder="rtsp://...">

  <label>Offer endpoint (relative URL)</label>
  <input [(ngModel)]="offerEndpoint" placeholder="/webrtc/offer">

  <h2>Offer (получен с сервера)</h2>
  <textarea readonly [value]="offer" rows="10"></textarea>

  <button (click)="postOffer()" [disabled]="!offer">POST /offer → Process and Save Answer</button>

  <h2>Answer (автоматически сохранён)</h2>
  <textarea readonly [value]="answer" rows="10"></textarea>

  <h2>Status</h2>
  <div *ngIf="error" class="error">{{ error }}</div>
</div>
